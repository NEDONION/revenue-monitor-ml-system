## 背景（Background）

随着 eBay 全球业务规模扩大，收入相关系统涉及多个站点（Site）、币种（Currency）及费用类型（如上架费、成交费、支付处理费等），整体收入曲线呈现出强周期性、多维度耦合、非平稳的特点。

在此前基于规则与阈值的监控体系中，异常检测依赖人工经验配置，存在以下问题：

- 难以覆盖复杂的跨维度异常（如单站点、单费用类型的隐性异常）
- 对季节性、促销活动等正常波动区分能力不足
- 误报率高，导致大量人工核查成本
- 对突发性系统异常（重复计费、漏计费、数据延迟）响应不够敏感

因此，需要引入基于历史数据学习模式的时间序列机器学习模型，实现更智能、更稳定的收入异常检测能力。

## 需求（Requirements）

### 1. 数据与特征层

- 真实项目的PRD中是使用近 2 年历史收入时间序列数据。我这里想用开源的公开数据集，只要类似就可以。
- 支持多维特征组合建模，包括但不限于：
  - 站点（Site）
  - 币种（Currency）
  - 费用类型（Fee Type）
  - 时间粒度（分钟 / 小时 / 天）
- 能够处理缺失值、异常 spike、周期性趋势等现实数据问题

### 2. 模型与训练层

- 基于 Python 构建时间序列 ML 模型（如 LSTM、TCN、Transformer 或 AutoEncoder）
- 支持多时间序列并行训练
- 通过预测未来时间窗口的数值区间（prediction interval）或重构误差进行异常判断
- 支持离线训练与模型版本管理
- 可以通过 GPU训练，我可以租一台GPU服务器，只要你帮我保存到某个地方即可。
- 并且训练过程中我希望能看到细节

### 3. 推理与服务化

- 将模型封装为可复用的在线推理 API
- 支持服务端按需调用，对实时或准实时收入数据进行异常检测
- 推理结果需输出：
  - 是否异常
  - 异常置信度 / 偏离程度
  - 关联的业务维度信息（站点 / 费用类型）

### 4. 业务目标

- 显著降低误报率，减少人工核查工作量
- 提前发现潜在收入异常（如计费错误、系统故障）
- 提升告警的准确性与稳定性
- 为后续自动化处理或根因分析提供基础数据支持
